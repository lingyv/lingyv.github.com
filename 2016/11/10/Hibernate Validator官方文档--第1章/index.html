<!DOCTYPE html>
<html lang="zh-Hans">
<head>

    <!--[if lt IE 9]>
        <style>body {display: none; background: none !important} </style>
        <meta http-equiv="Refresh" Content="0; url=//outdatedbrowser.com/" />
    <![endif]-->

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="format-detection" content="telephone=no" />
<meta name="author" content="lingyv" />



<meta name="description" content="Hibernate Validator官方文档 – 第1章 入门">
<meta property="og:type" content="article">
<meta property="og:title" content="Hibernate Validator官方文档 -- 第1章">
<meta property="og:url" content="http://lingyv.cn/2016/11/10/Hibernate Validator官方文档--第1章/index.html">
<meta property="og:site_name" content="凌宇">
<meta property="og:description" content="Hibernate Validator官方文档 – 第1章 入门">
<meta property="og:updated_time" content="2016-11-17T07:37:41.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Hibernate Validator官方文档 -- 第1章">
<meta name="twitter:description" content="Hibernate Validator官方文档 – 第1章 入门">

<link rel="apple-touch-icon" href= "/apple-touch-icon.png">


    <link rel="alternative" href="/atom.xml" title="凌宇" type="application/atom+xml">



    <link rel="shortcut icon" href="/images/zhandian.png">



    <link href="//cdn.bootcss.com/animate.css/3.5.1/animate.min.css" rel="stylesheet">



    <link href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.css" rel="stylesheet">



    <script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script>
    <link href="//cdn.bootcss.com/pace/1.0.2/themes/blue/pace-theme-minimal.css" rel="stylesheet">


<link rel="stylesheet" href="/css/style.css">



<link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">


<title>Hibernate Validator官方文档 -- 第1章 | 凌宇</title>

<script src="//cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>
<script src="//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"></script>

<script>
    var yiliaConfig = {
        fancybox: true,
        animate: true,
        isHome: false,
        isPost: true,
        isArchive: false,
        isTag: false,
        isCategory: false,
        open_in_new: true,
        fancybox_js: "//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.js",
        scrollreveal: "//cdn.bootcss.com/scrollReveal.js/3.1.4/scrollreveal.min.js",
        search: undefined
    }
</script>


    <script> yiliaConfig.jquery_ui = [false]; </script>



    <script> yiliaConfig.rootUrl = "\/";</script>





    <script>
        var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "//hm.baidu.com/hm.js?d8d2884d34e07cc018d380d28cc6a73c";
            var s = document.getElementsByTagName("script")[0]; 
            s.parentNode.insertBefore(hm, s);
        })();
    </script>


</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        <a href="/" class="profilepic">
            <img src="/images/touxiang.png" class="animated zoomIn">
        </a>
        <hgroup>
          <h1 class="header-author"><a href="/">lingyv</a></h1>
        </hgroup>

        
        <p class="header-subtitle">lingyv</p>
        

        


        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        <div class="icon-wrap icon-link hide" data-idx="2">
                            <div class="loopback_l"></div>
                            <div class="loopback_r"></div>
                        </div>
                        
                        
                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>
                        
                    </div>
                    
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>菜单</li>
                        <li>标签</li>
                        
                        <li>友情链接</li>
                        
                        
                        <li>关于我</li>
                        
                    </ul>
                </div>
            </div>
        

        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a href="/">主页</a></li>
                        
                            <li><a href="/tags/">标签云</a></li>
                        
                            <li><a href="/archives/">所有文章</a></li>
                        
                            <li><a href="/about/">关于我</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa Email" target="_blank" href="/lingyv@gmail.com" title="Email"></a>
                            
                                <a class="fa 新浪微博" target="_blank" href="http://weibo.com/5051531692/profile?topnav=1&wvr=6&is_all=1" title="新浪微博"></a>
                            
                                <a class="fa GitHub" target="_blank" href="https://github.com/lingyv" title="GitHub"></a>
                            
                                <a class="fa 知乎" target="_blank" href="https://www.zhihu.com/people/lingyv" title="知乎"></a>
                            
                                <a class="fa 简书" target="_blank" href="http://www.jianshu.com/users/999835d02088/latest_articles" title="简书"></a>
                            
                        </ul>
                    </nav>
                </section>
                
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/ActiveMQ/">ActiveMQ</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java/">Java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MyBatis/">MyBatis</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Spring/">Spring</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Validator/">Validator</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Velocity/">Velocity</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/">git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/">hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/http/">http</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/maven/">maven</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vim/">vim</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/分布式/">分布式</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/官方文档/">官方文档</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/工具/">工具</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/教程/">教程</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/编程/">编程</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/翻译/">翻译</a></li></ul>
                    </div>
                </section>
                
                
                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                    
                      <a target="_blank" class="main-nav-link switch-friends-link" href="https://pages.github.com/">GitHub</a>
                    
                      <a target="_blank" class="main-nav-link switch-friends-link" href="http://moxfive.xyz/">MOxFIVE</a>
                    
                    </div>
                </section>
                

                
                
                <section class="switch-part switch-part4">
                
                    <div id="js-aboutme">Java &amp; Python</div>
                </section>
                
            </div>
        </div>
    </header>                
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="回到主页">lingyv</a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                <img src="/images/touxiang.png" class="animated zoomIn">
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="回到主页">lingyv</a></h1>
            </hgroup>
            
            <p class="header-subtitle">lingyv</p>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/">主页</a></li>
                
                    <li><a href="/tags/">标签云</a></li>
                
                    <li><a href="/archives/">所有文章</a></li>
                
                    <li><a href="/about/">关于我</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa Email" target="_blank" href="/lingyv@gmail.com" title="Email"></a>
                            
                                <a class="fa 新浪微博" target="_blank" href="http://weibo.com/5051531692/profile?topnav=1&wvr=6&is_all=1" title="新浪微博"></a>
                            
                                <a class="fa GitHub" target="_blank" href="https://github.com/lingyv" title="GitHub"></a>
                            
                                <a class="fa 知乎" target="_blank" href="https://www.zhihu.com/people/lingyv" title="知乎"></a>
                            
                                <a class="fa 简书" target="_blank" href="http://www.jianshu.com/users/999835d02088/latest_articles" title="简书"></a>
                            
                        </ul>
            </nav>
        </header>                
    </div>
    <link class="menu-list" tags="标签" friends="友情链接" about="关于我"/>
</nav>
      <div class="body-wrap"><article id="post-Hibernate Validator官方文档--第1章" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/11/10/Hibernate Validator官方文档--第1章/" class="article-date">
      <time datetime="2016-11-10T11:36:29.000Z" itemprop="datePublished">2016-11-10</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Hibernate Validator官方文档 -- 第1章
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/术/">术</a>
    </div>


        
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java/">Java</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Validator/">Validator</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/官方文档/">官方文档</a></li></ul>
    </div>

        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>Hibernate Validator官方文档 – 第1章 入门<br><a id="more"></a></p>
<h1 id="1-Getting-started"><a href="#1-Getting-started" class="headerlink" title="1. Getting started"></a>1. Getting started</h1><h2 id="1-1-Project-set-up"><a href="#1-1-Project-set-up" class="headerlink" title="1.1. Project set up"></a>1.1. Project set up</h2><p>In order to use Hibernate Validator within a Maven project, simply add the following dependency to your pom.xml:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;dependency&gt;</div><div class="line">    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;</div><div class="line">    &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;</div><div class="line">    &lt;version&gt;5.3.2.Final&lt;/version&gt;</div><div class="line">&lt;/dependency&gt;</div></pre></td></tr></table></figure></p>
<h3 id="1-1-1-Unified-EL"><a href="#1-1-1-Unified-EL" class="headerlink" title="1.1.1. Unified EL"></a>1.1.1. Unified EL</h3><p>Hibernate Validator requires an implementation of the Unified Expression Language (JSR 341) for evaluating dynamic expressions in constraint violation messages (see Section 4.1, “Default message interpolation”). When your application runs in a Java EE container such as JBoss AS, an EL implementation is already provided by the container. In a Java SE environment, however, you have to add an implementation as dependency to your POM file. For instance you can add the following two dependencies to use the JSR 341 reference implementation:</p>
<p>Hibernate Validator需要实现统一表达式语言(JSR 341)来评估约束违反消息中的动态表达式(参见第4.1节“默认消息插值”)。 当应用程序在Java EE容器(如JBoss AS)中运行时，容器已经提供了EL实现。 但在Java SE环境中，您必须将实现作为依赖关系添加到POM文件中。 例如，您可以添加以下两个依赖关系来使用JSR 341参考实现：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">&lt;dependency&gt;</div><div class="line">    &lt;groupId&gt;javax.el&lt;/groupId&gt;</div><div class="line">    &lt;artifactId&gt;javax.el-api&lt;/artifactId&gt;</div><div class="line">    &lt;version&gt;2.2.4&lt;/version&gt;</div><div class="line">&lt;/dependency&gt;</div><div class="line">&lt;dependency&gt;</div><div class="line">    &lt;groupId&gt;org.glassfish.web&lt;/groupId&gt;</div><div class="line">    &lt;artifactId&gt;javax.el&lt;/artifactId&gt;</div><div class="line">    &lt;version&gt;2.2.4&lt;/version&gt;</div><div class="line">&lt;/dependency&gt;</div></pre></td></tr></table></figure></p>
<h3 id="1-1-2-CDI"><a href="#1-1-2-CDI" class="headerlink" title="1.1.2. CDI"></a>1.1.2. CDI</h3><p>Bean Validation defines integration points with CDI (Contexts and Dependency Injection for Java TM EE, JSR 346). If your application runs in an environment which does not provide this integration out of the box, you may use the Hibernate Validator CDI portable extension by adding the following Maven dependency to your POM:</p>
<p>Bean验证使用CDI(Java TM EE，JSR 346的上下文和依赖注入)定义集成点。 如果您的应用程序在一个不提供此集成的环境中运行，您可通过添Maven依赖使用Hibernate Validator CDI便携式扩展:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;dependency&gt;</div><div class="line">    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;</div><div class="line">    &lt;artifactId&gt;hibernate-validator-cdi&lt;/artifactId&gt;</div><div class="line">    &lt;version&gt;5.3.2.Final&lt;/version&gt;</div><div class="line">&lt;/dependency&gt;</div></pre></td></tr></table></figure></p>
<p>Note that adding this dependency is usually not required for applications running on a Java EE application server. You can learn more about the integration of Bean Validation and CDI in Section 10.3, “CDI”.</p>
<p>请注意，通常不需要在Java EE应用程序服务器上运行的应用程序添加此依赖关系。 您可以在第10.3节“CDI”中了解有关Bean验证和CDI的集成的更多信息。<br>1.1.3. Running with a security manager<br>Hibernate Validator supports running with a security manager being enabled. To do so, you must assign several permissions to the Hibernate Validator and the Bean Validation API code bases. The following shows how to do this via a policy file as processed by the Java default policy implementation:</p>
<p>Hibernate Validator支持在启用安全管理器的情况下运行。 为此，您必须为Hibernate验证器和Bean验证API代码库分配多个权限。 下面显示了如何通过Java默认策略实现处理的策略文件执行此操作：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">grant codeBase &quot;file:path/to/hibernate-validator-5.3.2.Final.jar&quot; &#123;</div><div class="line">    permission java.lang.reflect.ReflectPermission &quot;suppressAccessChecks&quot;;</div><div class="line">    permission java.lang.RuntimePermission &quot;accessDeclaredMembers&quot;;</div><div class="line"></div><div class="line">    // Only needed when working with XML descriptors (validation.xml or XML constraint mappings)</div><div class="line">    permission java.util.PropertyPermission &quot;mapAnyUriToUri&quot;, &quot;read&quot;;</div><div class="line">&#125;;</div><div class="line"></div><div class="line">grant codeBase &quot;file:path/to/validation-api-1.1.0.Final.jar&quot; &#123;</div><div class="line">    permission java.io.FilePermission &quot;path/to/hibernate-validator-5.3.2.Final.jar&quot;, &quot;read&quot;;</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<h2 id="1-2-Applying-constraint-应用约束"><a href="#1-2-Applying-constraint-应用约束" class="headerlink" title="1.2. Applying constraint 应用约束"></a>1.2. Applying constraint 应用约束</h2><p>Lets dive directly into an example to see how to apply constraints.</p>
<p>让我们直接实现一个例子，看看如何应用约束。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line">package org.hibernate.validator.referenceguide.chapter01;</div><div class="line"></div><div class="line">import javax.validation.constraints.Min;</div><div class="line">import javax.validation.constraints.NotNull;</div><div class="line">import javax.validation.constraints.Size;</div><div class="line"></div><div class="line">public class Car &#123;</div><div class="line"></div><div class="line">    @NotNull</div><div class="line">    private String manufacturer;</div><div class="line"></div><div class="line">    @NotNull</div><div class="line">    @Size(min = 2, max = 14)</div><div class="line">    private String licensePlate;</div><div class="line"></div><div class="line">    @Min(2)</div><div class="line">    private int seatCount;</div><div class="line"></div><div class="line">    public Car(String manufacturer, String licencePlate, int seatCount) &#123;</div><div class="line">        this.manufacturer = manufacturer;</div><div class="line">        this.licensePlate = licencePlate;</div><div class="line">        this.seatCount = seatCount;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    //getters and setters ...</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>The @NotNull, @Size and @Min annotations are used to declare the constraints which should be applied to the fields of a Car instance:</p>
<p>@NotNull，@Size和@Min注释用于声明应该应用于Car实例的字段的约束：</p>
<ul>
<li>manufacturer must never be null 制造商不能为空</li>
<li>licensePlate must never be null and must be between 2 and 14 characters long 车牌照不为长度在2~14之间</li>
<li>seatCount must be at least 2 座位至少有两个<h2 id="1-3-Validating-constraints-验证约束"><a href="#1-3-Validating-constraints-验证约束" class="headerlink" title="1.3. Validating constraints 验证约束"></a>1.3. Validating constraints 验证约束</h2>To perform a validation of these constraints, you use a Validator instance. Let’s have a look at a unit test for Car:</li>
</ul>
<p>要执行这些约束的验证，您需要使用一个Validator实例。 让我们来看看汽车的单元测试：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div></pre></td><td class="code"><pre><div class="line">package org.hibernate.validator.referenceguide.chapter01;</div><div class="line"></div><div class="line">import java.util.Set;</div><div class="line">import javax.validation.ConstraintViolation;</div><div class="line">import javax.validation.Validation;</div><div class="line">import javax.validation.Validator;</div><div class="line">import javax.validation.ValidatorFactory;</div><div class="line"></div><div class="line">import org.junit.BeforeClass;</div><div class="line">import org.junit.Test;</div><div class="line"></div><div class="line">import static org.junit.Assert.assertEquals;</div><div class="line"></div><div class="line">public class CarTest &#123;</div><div class="line"></div><div class="line">    private static Validator validator;</div><div class="line"></div><div class="line">    @BeforeClass</div><div class="line">    public static void setUpValidator() &#123;</div><div class="line">        ValidatorFactory factory = Validation.buildDefaultValidatorFactory();</div><div class="line">        validator = factory.getValidator();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    @Test</div><div class="line">    public void manufacturerIsNull() &#123;</div><div class="line">        Car car = new Car( null, &quot;DD-AB-123&quot;, 4 );</div><div class="line"></div><div class="line">        Set&lt;ConstraintViolation&lt;Car&gt;&gt; constraintViolations =</div><div class="line">                validator.validate( car );</div><div class="line"></div><div class="line">        assertEquals( 1, constraintViolations.size() );</div><div class="line">        assertEquals( &quot;may not be null&quot;, constraintViolations.iterator().next().getMessage() );</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    @Test</div><div class="line">    public void licensePlateTooShort() &#123;</div><div class="line">        Car car = new Car( &quot;Morris&quot;, &quot;D&quot;, 4 );</div><div class="line"></div><div class="line">        Set&lt;ConstraintViolation&lt;Car&gt;&gt; constraintViolations =</div><div class="line">                validator.validate( car );</div><div class="line"></div><div class="line">        assertEquals( 1, constraintViolations.size() );</div><div class="line">        assertEquals(</div><div class="line">                &quot;size must be between 2 and 14&quot;,</div><div class="line">                constraintViolations.iterator().next().getMessage()</div><div class="line">        );</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    @Test</div><div class="line">    public void seatCountTooLow() &#123;</div><div class="line">        Car car = new Car( &quot;Morris&quot;, &quot;DD-AB-123&quot;, 1 );</div><div class="line"></div><div class="line">        Set&lt;ConstraintViolation&lt;Car&gt;&gt; constraintViolations =</div><div class="line">                validator.validate( car );</div><div class="line"></div><div class="line">        assertEquals( 1, constraintViolations.size() );</div><div class="line">        assertEquals(</div><div class="line">                &quot;must be greater than or equal to 2&quot;,</div><div class="line">                constraintViolations.iterator().next().getMessage()</div><div class="line">        );</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    @Test</div><div class="line">    public void carIsValid() &#123;</div><div class="line">        Car car = new Car( &quot;Morris&quot;, &quot;DD-AB-123&quot;, 2 );</div><div class="line"></div><div class="line">        Set&lt;ConstraintViolation&lt;Car&gt;&gt; constraintViolations =</div><div class="line">                validator.validate( car );</div><div class="line"></div><div class="line">        assertEquals( 0, constraintViolations.size() );</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>In the setUp() method a Validator object is retrieved from the ValidatorFactory. A Validator instance is thread-safe and may be reused multiple times. It thus can safely be stored in a static field and be used in the test methods to validate the different Car instances.</p>
<p>The validate() method returns a set of ConstraintViolation instances, which you can iterate over in order to see which validation errors occurred. The first three test methods show some expected constraint violations:</p>
<ul>
<li>The @NotNull constraint on manufacturer is violated in manufacturerIsNull()</li>
<li>The @Size constraint on licensePlate is violated in licensePlateTooShort()</li>
<li>The @Min constraint on seatCount is violated in seatCountTooLow()</li>
<li>If the object validates successfully, validate() returns an empty set as you can see in carIsValid().<br>Note that only classes from the package javax.validation are used. These are provided from the Bean Validation API. No classes from Hibernate Validator are directly referenced, resulting in portable code.</li>
</ul>
<p>在setUp()方法中，从ValidatorFactory取出Validator对象。 Validator实例是线程安全的，可以重复使用多次。 因此它可以安全地存储在静态字段中，并在测试方法中用于验证不同的Car实例。</p>
<p>validate()方法返回一组ConstraintViolation实例，您可以迭代它们以查看发生了哪些验证错误。 前三个测试方法显示一些预期的约束违反：</p>
<ul>
<li>The @NotNull constraint on manufacturer is violated in manufacturerIsNull()</li>
<li>The @Size constraint on licensePlate is violated in licensePlateTooShort()</li>
<li>The @Min constraint on seatCount is violated in seatCountTooLow()</li>
<li>如果对象验证成功，validate()返回一个空的set集合，你可以在carIsValid()中看到。<br>注意，这我们只使用包javax.validation中的类。 他们是Bean Validation API提供的。没有直接引用来自Hibernate Validator的类，所以可移植代码。</li>
</ul>
<h2 id="1-4-Java-8-support"><a href="#1-4-Java-8-support" class="headerlink" title="1.4. Java 8 support"></a>1.4. Java 8 support</h2><p>Java 8 introduces several enhancements which are valuable from a Hibernate Validator point of view. This section briefly introduces the Hibernate Validator features based on Java 8. They are only available in Hibernate Validator 5.2 and later.</p>
<p>Java 8引入了几个从Hibernate Validator的角度来看有价值的增功能。 本节简要介绍基于Java 8的Hibernate Validator功能。它们仅在Hibernate Validator 5.2和更高版本中可用。</p>
<h3 id="1-4-1-Type-arguments-constraints"><a href="#1-4-1-Type-arguments-constraints" class="headerlink" title="1.4.1. Type arguments constraints"></a>1.4.1. Type arguments constraints</h3><p>In Java 8 it is possible to use annotations in any location a type is used. This includes type arguments. Hibernate Validator supports the validation of constraints defined on type arguments of collections, maps, and custom parameterized types. The Section 2.1.3, “Type argument constraints” chapter provides further information on how to apply and use type argument constraints.</p>
<p>在Java 8中，可以在使用类型的任何位置使用注释。 这包括类型参数。 Hibernate Validator支持对集合，Map和自定义参数化类型等类型参数的约束验证。 第2.1.3节“类型参数约束”一章提供了有关如何应用和使用类型参数约束的更多信息。</p>
<h3 id="1-4-2-Actual-parameter-names"><a href="#1-4-2-Actual-parameter-names" class="headerlink" title="1.4.2. Actual parameter names"></a>1.4.2. Actual parameter names</h3><p>The Java 8 Reflection API can now retrieve the actual parameter names of a method or constructor. Hibernate Validator uses this ability to report the actual parameter names instead of arg0, arg1, etc. The Section 8.2.4, “ParameterNameProvider” chapter explains how to use the new reflection based parameter name provider.</p>
<p>Java 8反射API可以检索方法或构造函数的实际参数名称。 Hibernate Validator可使用此功能显示实际的参数名称而不是arg0，arg1等。第8.2.4节“ParameterNameProvider”一章解释了如何使用基于新反射提供的参数名称提供程序。</p>
<h3 id="1-4-3-New-date-time-API"><a href="#1-4-3-New-date-time-API" class="headerlink" title="1.4.3. New date/time API"></a>1.4.3. New date/time API</h3><p>Java 8 introduces a new date/time API. Hibernate Validator provides full support for the new API where @Future and @Past constraints can be applied on the new types. The table Table 2.2, “Bean Validation constraints” shows the types supported for @Future and @Past, including the types from the new API.</p>
<p>Java 8引入了一个新的日期/时间API。 Hibernate Validator提供对新API的完全支持，其中@Future和@Past约束可以应用于新类型。 表2.2“Bean验证约束”显示了@Future和@Past支持的类型，包括来自新API的类型。</p>
<h3 id="1-4-4-Optional-type"><a href="#1-4-4-Optional-type" class="headerlink" title="1.4.4. Optional type"></a>1.4.4. Optional type</h3><p>Hibernate Validator provides also support for Java 8 Optional type, by unwrapping the Optional instance and validating the internal value. Section 11.13.1, “Optional unwrapper” provides examples and a further discussion.</p>
<p>Hibernate Validator还通过解包可选实例并验证内部值提供对Java 8可选类型的支持。 第11.13.1节“可选解包器”提供了示例和进一步讨论。</p>
<h2 id="1-5-Where-to-go-next"><a href="#1-5-Where-to-go-next" class="headerlink" title="1.5. Where to go next?"></a>1.5. Where to go next?</h2><p>That concludes the 5 minute tour through the world of Hibernate Validator and Bean Validation. Continue exploring the code examples or look at further examples referenced in Chapter 13, Further reading.</p>
<p>To learn more about the validation of beans and properties, just continue reading Chapter 2, Declaring and validating bean constraints. If you are interested in using Bean Validation for the validation of method pre- and postcondition refer to Chapter 3, Declaring and validating method constraints. In case your application has specific validation requirements have a look at Chapter 6, Creating custom constraints.</p>
<p>至此Hibernate Validator和Bean Validation世界的5分钟旅游结束。可继续探索代码示例或进一步阅读第13章中提及的更多示例。</p>
<p>要了解有关bean和属性验证的更多信息，只需继续阅读第2章声明和验证bean约束。 如果您有兴趣使用Bean验证来验证方法的前后条件，请参考第3章声明和验证方法约束。 如果您的应用程序有特定的验证要求，请参阅第6章创建自定义约束。</p>

      
    </div>
    
  </div>
  
    
    <div class="copyright">
        <p><span>本文标题:</span><a href="/2016/11/10/Hibernate Validator官方文档--第1章/">Hibernate Validator官方文档 -- 第1章</a></p>
        <p><span>文章作者:</span><a href="/" title="回到主页">lingyv</a></p>
        <p><span>发布时间:</span>2016-11-10, 19:36:29</p>
        <p><span>最后更新:</span>2016-11-17, 15:37:41</p>
        <p>
            <span>原始链接:</span><a class="post-url" href="/2016/11/10/Hibernate Validator官方文档--第1章/" title="Hibernate Validator官方文档 -- 第1章">http://lingyv.cn/2016/11/10/Hibernate Validator官方文档--第1章/</a>
            <span class="copy-path" data-clipboard-text="原文: http://lingyv.cn/2016/11/10/Hibernate Validator官方文档--第1章/　　作者: lingyv" title="点击复制文章链接"><i class="fa fa-clipboard"></i></span>
            <script> var clipboard = new Clipboard('.copy-path'); </script>
        </p>
        <p>
            <span>许可协议:</span><i class="fa fa-creative-commons"></i> <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" title="CC BY-NC-SA 4.0 International" target = "_blank">"署名-非商用-相同方式共享 4.0"</a> 转载请保留原文链接及作者。
        </p>
    </div>



    <nav id="article-nav">
        
            <div id="article-nav-newer" class="article-nav-title">
                <a href="/2016/11/11/Hibernate Validator官方文档--第2章/">
                    Hibernate Validator官方文档 -- 第2章
                </a>
            </div>
        
        
            <div id="article-nav-older" class="article-nav-title">
                <a href="/2016/11/06/Velocity用户手册/">
                    Velocity用户手册
                </a>
            </div>
        
    </nav>

  
</article>

    <div id="toc" class="toc-article">
    <strong class="toc-title">文章目录</strong>
    <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#1-Getting-started"><span class="toc-number">1.</span> <span class="toc-text">1. Getting started</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-1-Project-set-up"><span class="toc-number">1.1.</span> <span class="toc-text">1.1. Project set up</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-1-Unified-EL"><span class="toc-number">1.1.1.</span> <span class="toc-text">1.1.1. Unified EL</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-2-CDI"><span class="toc-number">1.1.2.</span> <span class="toc-text">1.1.2. CDI</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-2-Applying-constraint-应用约束"><span class="toc-number">1.2.</span> <span class="toc-text">1.2. Applying constraint 应用约束</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-3-Validating-constraints-验证约束"><span class="toc-number">1.3.</span> <span class="toc-text">1.3. Validating constraints 验证约束</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-4-Java-8-support"><span class="toc-number">1.4.</span> <span class="toc-text">1.4. Java 8 support</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-4-1-Type-arguments-constraints"><span class="toc-number">1.4.1.</span> <span class="toc-text">1.4.1. Type arguments constraints</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-4-2-Actual-parameter-names"><span class="toc-number">1.4.2.</span> <span class="toc-text">1.4.2. Actual parameter names</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-4-3-New-date-time-API"><span class="toc-number">1.4.3.</span> <span class="toc-text">1.4.3. New date/time API</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-4-4-Optional-type"><span class="toc-number">1.4.4.</span> <span class="toc-text">1.4.4. Optional type</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-5-Where-to-go-next"><span class="toc-number">1.5.</span> <span class="toc-text">1.5. Where to go next?</span></a></li></ol></li></ol>
</div>
<style>
    .left-col .switch-btn,
    .left-col .switch-area {
        display: none;
    }
</style>

<input type="button" id="tocButton" value="隐藏目录"  title="点击按钮隐藏或者显示文章目录">

<script>
    yiliaConfig.toc = ["隐藏目录", "显示目录", !!"false"];
</script>



    
<div class="share">
    
        <div class="bdsharebuttonbox">
            <a href="#" class="fa fa-twitter bds_twi" data-cmd="twi" title="分享到推特"></a>
            <a href="#" class="fa fa-weibo bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a>
            <a href="#" class="fa fa-qq bds_sqq" data-cmd="sqq" title="分享给 QQ 好友"></a>
            <a href="#" class="fa fa-files-o bds_copy" data-cmd="copy" title="复制网址"></a>
            <a href="#" class="fa fa fa-envelope-o bds_mail" data-cmd="mail" title="通过邮件分享"></a>
            <a href="#" class="fa fa-weixin bds_weixin" data-cmd="weixin" title="生成文章二维码"></a>
            <a href="#" class="fa fa-share-alt bds_more" data-cmd="more"></i></a>
        </div>
        <script>
            window._bd_share_config={
                "common":{"bdSnsKey":{},"bdText":"Hibernate Validator官方文档 -- 第1章　| 凌宇　","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"0","bdSize":"24"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];
        </script>
    

    
</div>







    
      <div class="duoshuo" id="comments">
    <div id="comment-box" ></div>
    <div class="ds-thread" data-thread-key="2016/11/10/Hibernate Validator官方文档--第1章/" data-title="Hibernate Validator官方文档 -- 第1章" data-url="http://lingyv.cn/2016/11/10/Hibernate Validator官方文档--第1章/"></div>
    <script>
        var duoshuoQuery = {short_name:"lingyv"};
        var loadComment = function(){
            var d = document, s = d.createElement('script');
            s.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
            s.async = true; s.charset = 'UTF-8';
            (d.head || d.body).appendChild(s);
        }

        
    </script>
    
    <script> loadComment(); </script>

</div>
    




    <div class="scroll" id="post-nav-button">
        
            <a href="/2016/11/11/Hibernate Validator官方文档--第2章/" title="上一篇: Hibernate Validator官方文档 -- 第2章">
                <i class="fa fa-angle-left"></i>
            </a>
        

        <a title="文章列表"><i class="fa fa-bars"></i><i class="fa fa-times"></i></a>

        
            <a href="/2016/11/06/Velocity用户手册/" title="下一篇: Velocity用户手册">
                <i class="fa fa-angle-right"></i>
            </a>
        
    </div>

    <ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2016/11/18/ActiveMQ官方文档--Spring支持/">ActiveMQ官方文档 -- Spring支持</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/11/18/使用Spring和ActiveMQ实现高效轻量的JMS/">使用Spring和ActiveMQ实现高效轻量的JMS</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/11/17/ActiveMQ入门/">ActiveMQ官方文档 -- 入门</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/11/11/Hibernate Validator官方文档--第2章/">Hibernate Validator官方文档 -- 第2章</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/11/10/Hibernate Validator官方文档--第1章/">Hibernate Validator官方文档 -- 第1章</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/11/06/Velocity用户手册/">Velocity用户手册</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/11/02/springSecurity快速指南/">springSecurity快速指南</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/10/17/MyBatis官方文档--入门/">MyBatis官方文档 -- 入门</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/10/15/vim速查卡/">vim速查卡</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/10/13/Markdown语法/">Markdown语法</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/10/10/markdown快速入门/">Markdown快速入门</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/10/06/简明vim练级攻略/">简明 Vim 练级攻略(转)</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/10/03/安装mongoDB/">安装mongoDB</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/10/01/绝对路径与相对路径/">Java--相对路径</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/20/RIME快速指南/">RIME快速指南</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/10/git快速指南/">Git快速指南</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/01/linux安装JDK/">linux安装JDK</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/27/Java知识点/">Java知识点(转)</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/23/HotSpot虚拟机定位对象/">HotSpot虚拟机之定位对象</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/20/HotSpot虚拟机创建对象/">HotSpot虚拟机之创建对象</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/15/Java虚拟机内存/">JVM之内存</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/12/spf13-vim/">vim懒人福音--spf13-vim</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/09/二进制/">2的世界</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/08/采矿--编码与继电器/">采矿--编码与继电器</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/07/新入坑的程序猿们，一起去屠龙吧/">新入坑的程序猿们，一起去屠龙吧！</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/07/20/maven项目缓慢/">Maven项目创建缓慢解决方法</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/05/21/JDBC基础/">JDBC基础</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/05/08/Servlet工作原理3/">Servlet原理 三：Servlet体系结构以及工作原理</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/05/08/Servlet工作原理2/">Servlet原理 二：Web应用与创建Servlet实例</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/05/07/Servlet工作原理1/">Servlet原理 一：Servlet容器</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/05/06/zshshell/">Shell的唯一选择--zsh</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/05/05/Ubuntu15.4安装mac主题/">Ubuntu15.4安装mac主题</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/05/05/vimium/">浏览器神器--Vimium</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/04/29/使用Hexo建立个人博客/">使用Hexo建立个人博客</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/04/29/浅谈Http请求与响应/">Http请求与响应</a></li></ul>




    <script>
        
    </script>
</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                <i class="fa fa-copyright"></i> 
                2016 lingyv
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank" title="快速、简洁且高效的博客框架">Hexo</a>  Theme <a href="https://github.com/MOxFIVE/hexo-theme-yelee" target="_blank" title="简而不减 Hexo 双栏博客主题  v3.0">Yelee</a> by MOxFIVE <i class="fa fa-heart animated infinite pulse"></i>
            </div>
        </div>
        
            <div class="visit">
                
                    <span id="busuanzi_container_site_pv" style='display:none'>
                        <span id="site-visit" >本站到访数: 
                            <span id="busuanzi_value_site_uv"></span>
                        </span>
                    </span>
                
                
                    <span>, </span>
                
                
                    <span id="busuanzi_container_page_pv" style='display:none'>
                        <span id="page-visit">本页阅读量: 
                            <span id="busuanzi_value_page_pv"></span>
                        </span>
                    </span>
                
            </div>
        
    </div>
</footer>
    </div>
    
<script data-main="/js/main.js" src="//cdn.bootcss.com/require.js/2.2.0/require.min.js"></script>




<div class="scroll" id="scroll">
    <a href="#" title="返回顶部"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments" onclick="load$hide();" title="查看评论"><i class="fa fa-comments-o"></i></a>
    <a href="#footer" title="转到底部"><i class="fa fa-arrow-down"></i></a>
</div>
<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
  </div>
</body>
</html>